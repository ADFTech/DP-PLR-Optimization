[Logger]
log_size = 128
log_backup_count = 2

[Post_office]
url = https://post.adfomni.com/
origin = Omni-Migration
username = Courier
password = Q61dpZ2z8cAJ22jHvuQIcjPMbux3XV7FmDijxV5BkzIjQpG4IT
queue = Logging-in

[Runner]
log_to_post_office = True
influx_host = https://hlx.adfomni.com/
influx_org = HLX
influx_token = RVz52OjBQfA_xIUE0_2-WgPbDhd5eW40H_Nz4T4Ce6YW9gjLhvEig8tYT8W_I0XdUgtVXNhsmvjL-OrLXWyfew==
influx_bucket = Optimization
influx_measurement = Predictions
influx_cooling_capacity_field = cooling_capacity
influx_CHW_Pump_field = CHW_Pump
influx_Chiller_field = CH
influx_CT_LW_Temp_field = CT_LW_Temp
influx_CDW_Pump_field = CDW_Pump
rmq_queue = HLX-in

[Switch_command]
log_to_post_office = True
rmq_queue = HLX-in

[Load_shift]
log_to_post_office = True
rmq_queue = HLX-in

[Load_shift_scheduler]
json_filepath = devices.json

[database]
engine = postgresql
host = adfomni.com
port = 5432
; database = weatherdb
; username = demo
; password = demo
database = HLX
username = HLX
password = kmiPFOS2aJIZNWqKa5kihcTV6VHpdJjVniCaf4CTpj1oX2Ka5m

; ssl_mode = none
; db_database = omni-weather
; db_username = weather-man
; db_password = eO856XXQfZviq867TyIYxiQZb76B4rJ5lG6kN8imt6jznqfsyW
; database = omni-weather
; username = weather-man
; password = eO856XXQfZviq867TyIYxiQZb76B4rJ5lG6kN8imt6jznqfsyW
ssl_mode = require


[training]
# View or schema.view name to pull data from
view = public.v_chiller_weather_15m_recent_union_boundary
; view = public.v_chiller_weather_15m_recent_union_meterdelta

# Whether to use kwh_15m_exact as the KWH training target
; use_exact_kwh = true
use_exact_kwh = false

# Paths for saving trained models
kwh_model_path = models/hlx_gbt_kwh_model.pkl
cl_model_path = models/hlx_gbt_cooling_load_model.pkl

# (Optional) Additional training parameters if you want to extend later:
# epochs = 50
# batch_size = 32
# learning_rate = 0.001


[dp_optimization]
# --- Required paths ---
csv_path = ./forecasted_weather_HLX_OPT_New.csv
; cooling_load_model_path = ./Model/hlx_gbt_cl_model.p
; power_model_path = ./Model/hlx_gbt_kwh_model.p
cooling_load_model_path = ./models/hlx_gbt_cooling_load_model.pkl
power_model_path = ./models/hlx_gbt_kwh_model.pkl

# --- Timestamp & calendar ---
timestamp_col = timestamp
compute_calendar_flags = true
; compute weekday/holiday from timestamp if missing

# --- Office hours (local time, next-step) ---
office_hour_start = 7           
# inclusive
office_hour_end = 21            
#; exclusive

# --- DP bounds & GA parameters ---
dp_low = 0.10
dp_high = 0.25
n_pop = 70
n_gen = 30
cx_prob = 0.5
mut_prob = 0.2
mut_sigma = 0.3
seed = 42

# --- DP feasibility rule (based on predicted RT) ---
dp_rule_threshold_rt = 380.0
dp_rule_low_min = 0.075
dp_rule_low_max = 0.125
dp_rule_high_min = 0.15
dp_rule_high_max = 0.25

# --- Optional overrides for model features (comma-separated) ---
# If omitted, defaults from DPOptConfig are used.
# cl_features: feature order for the cooling-load (RT) model
#cl_features = temperature, humidity, weekday, holiday, year, month, day, hour, minute

# p_features: feature order for the power (kWh) model
#p_features = DP, Cooling_Load, kW_RT, Year, Month, Day, Hour, Minute

# --- Output ---
save_csv_path = ./DP_Optimization_HLX_Result.csv
no_save = false

[database-forecast]
engine = postgresql
host = adfomni.com
port = 5432
; database = weatherdb
; username = demo
; password = demo
; username = HLX
; password = kmiPFOS2aJIZNWqKa5kihcTV6VHpdJjVniCaf4CTpj1oX2Ka5m

; ssl_mode = none
; db_database = omni-weather
; db_username = weather-man
; db_password = eO856XXQfZviq867TyIYxiQZb76B4rJ5lG6kN8imt6jznqfsyW
database = omni-weather
username = weather-man
password = eO856XXQfZviq867TyIYxiQZb76B4rJ5lG6kN8imt6jznqfsyW
ssl_mode = require
